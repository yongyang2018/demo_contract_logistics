<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>首页</title>
		<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
		<link rel="stylesheet" type="text/css" href="../css/transport/home.css" />
		<script src="../js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/api.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			.home-box{
				display: flex;
				align-items: center;justify-content: center;flex-direction: column;
			}
		</style>
	</head>
	<body>
		<div class="home-box">
			<ul class="section-ui">
				<li>
					<div class="li-div-title">
						<img src="../img/sender.png" >
						<a class="item-title" href="sender.html">寄件人</a>
					</div>
				</li>
				<li>
					<div class="li-div-title">
						<img src="../img/site.png" >
						<a class="item-title" href="site.html">代收点</a>
					</div>
				</li>

				<li>
					<div class="li-div-title">
						<img src="../img/logistics.png" >
						<a class="item-title" href="logistics.html">物流</a>
					</div>
				</li>

				<li>
					<div class="li-div-title">
						<img src="../img/addressee.png">
						<a class="item-title" href="addressee.html">收件人</a>
					</div>
				</li>

			</ul>
			<div class="paompt">
				<div class="paompt-item">
					<span>寄件人分配地址：</span>
					<span id="sender-address"></span>
				</div>
				<div class="paompt-item">
					<span>代收点分配地址：</span>
					<span>bf0aba026e5a0e1a69094c8a0d19d905367d64cf</span>
				</div>
				<div class="paompt-item">
					<span>物流分配地址：</span>
					<span>54e670985631117904d10341676a57d11687bbc5</span>
				</div>
				<div class="paompt-item">
					<span>收件人分配地址：</span>
					<span>23142c9d93b20d93663fb4327f598af6e2e71850</span>
				</div>			
			</div>
			<div class="text-center">
				<button class="box-but" id="reset">重置</button>
			</div>				
		</div>
		<script type="text/javascript">
			window.onload = function(){
				function refreshSender(){
					$api.getSender((data, err) => {
						if(data){
							$('#sender-address').text(data.address)
						}else{
							$('#sender-address').text('请先完成寄件人存证')
						}
					})
				}
				refreshSender()
				setInterval(refreshSender, 1000)
				$('#reset').on('click', () => {
					$api.post('/api/express/reset')
				})
			}
		</script>
	</body>
</html>
